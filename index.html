<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Elovya Beauty ‚Äî Coming Soon (Skincare Tips & Games)</title>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>
  :root{
    --pink: #ff5fa2;
    --pink-dark: #e53a82;
    --white: #ffffff;
    --card-bg: rgba(255,255,255,0.98);
    --text-dark: #2b2b2b;
    --maxw: 1100px;
  }

  /* Reset */
  * { box-sizing: border-box; margin:0; padding:0; }
  html,body { height:100%; }
  body{
    font-family: "Poppins", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    background: #000;
    color: var(--white);
    overflow-x: hidden;
    scroll-behavior: smooth;
  }

  /* HERO - black with soft blurred pastel glow behind */
  .hero-wrap{
    position: relative;
    min-height: 74vh;
    display:flex;
    align-items:center;
    justify-content:center;
    padding: 48px 20px;
    text-align:center;
  }
  .hero-wrap::before{
    content:"";
    position:absolute; inset:0; z-index:0;
    background:
      radial-gradient(800px 400px at 10% 12%, rgba(255,126,196,0.09), transparent 12%),
      radial-gradient(700px 350px at 88% 28%, rgba(255,199,211,0.08), transparent 14%),
      linear-gradient(180deg, rgba(255,240,246,0.02), rgba(255,248,250,0.01));
    filter: blur(16px) saturate(110%);
    transform:scale(1.02);
    pointer-events:none;
  }
  .hero-wrap::after{
    content:"";
    position:absolute; inset:0; z-index:1;
    background: linear-gradient(180deg, rgba(0,0,0,0.92), rgba(0,0,0,0.78));
    pointer-events:none;
  }

  .hero { position: relative; z-index:2; width:100%; max-width:var(--maxw); padding: 0 18px; }
  .brand { font-family: "Playfair Display", serif; font-size: 40px; color: var(--pink); margin-bottom:8px; letter-spacing:1px; }
  .sub { color: rgba(255,255,255,0.88); margin-bottom:32px; font-size:15px; line-height:1.4; }

  /* Buttons: white with pink border & glow */
  .actions { display:flex; justify-content:center; gap:18px; flex-wrap:wrap; }
  .btn {
    display:inline-flex; align-items:center; gap:10px;
    background: var(--white);
    color: var(--pink);
    border: 2px solid var(--pink);
    padding: 16px 44px;
    border-radius: 40px;
    font-weight: 600;
    font-size: 18px;
    cursor:pointer;
    box-shadow: 0 10px 30px rgba(255,95,162,0.12);
    transition: transform .22s ease, box-shadow .22s ease, background .22s ease, color .22s ease;
  }
  .btn:hover { transform: translateY(-4px); box-shadow: 0 20px 40px rgba(255,95,162,0.16); }
  .btn:focus { outline: 3px solid rgba(255,95,162,0.12); outline-offset:4px; }

  .btn .emoji { font-size:18px; }

  main { padding: 26px 20px 80px; max-width: var(--maxw); margin: 0 auto; }

  /* Card (panel) style - pastel blurred background when expanded */
  .card {
    display:none;
    background: linear-gradient(180deg, rgba(255,230,240,0.95), rgba(255,245,248,0.95));
    border-radius: 14px;
    padding: 22px;
    margin: 24px auto;
    color: var(--text-dark);
    box-shadow: 0 14px 40px rgba(0,0,0,0.10);
    border: 1px solid rgba(179,0,89,0.06);
  }
  .card.active { display:block; animation: dropIn .34s ease both; transform-origin: top center; }
  @keyframes dropIn { from { opacity:0; transform: translateY(12px) } to { opacity:1; transform: translateY(0) } }

  .card h2 { font-family: "Playfair Display", serif; color: var(--pink); font-size: 24px; margin-bottom:8px; }
  .card p.lead { color:#6a6a6a; margin-bottom:12px; }

  /* list layout */
  .list { display:grid; gap:12px; list-style:none; padding:0; margin:12px 0 0 0; grid-template-columns: 1fr; }
  .item {
    display:flex; gap:14px; align-items:flex-start;
    background: var(--white); color:var(--text-dark);
    padding:12px; border-radius:10px; box-shadow: 0 8px 20px rgba(0,0,0,0.06); border:1px solid rgba(0,0,0,0.03);
  }
  .icon { min-width:46px; height:46px; border-radius:10px; display:flex; align-items:center; justify-content:center; background: linear-gradient(180deg, rgba(255,95,162,0.06), rgba(255,95,162,0.02)); font-size:20px; }
  .content b { display:block; font-weight:700; margin-bottom:6px; color:var(--text-dark); font-family:"Playfair Display", serif; }
  .content p { margin:0; color:#444; font-size:15px; line-height:1.5; }

  /* two column layout on wide screens */
  @media (min-width:920px) {
    .list { grid-template-columns: repeat(2, 1fr); }
  }

  /* fun zone sub layout */
  .games-zone { display:none; margin-top:18px; padding:18px; border-radius:12px; background: linear-gradient(180deg, rgba(255,243,247,0.95), rgba(255,250,251,0.96)); border:1px solid rgba(179,0,89,0.06); box-shadow:0 12px 30px rgba(0,0,0,0.08); }
  .games-zone.active { display:block; animation: dropIn .34s ease both; }

  .game-row { display:flex; flex-direction:column; gap:14px; margin-top:12px; }
  .game-card { background:var(--white); padding:12px; border-radius:10px; box-shadow:0 8px 20px rgba(0,0,0,0.05); border:1px solid rgba(0,0,0,0.02); text-align:left; }

  .game-card h3 { margin:0 0 8px; color:var(--pink-dark); font-family:"Playfair Display", serif; }
  .game-controls { display:flex; gap:12px; flex-wrap:wrap; align-items:center; }

  /* wheel */
  .wheel-wrap { display:flex; gap:18px; align-items:center; flex-wrap:wrap; }
  .wheel { width:180px; height:180px; border-radius:50%; position:relative; overflow:hidden; transform-origin:center; transition: transform 2.6s cubic-bezier(.14,.88,.2,1.0); border:6px solid rgba(255,95,162,0.06); box-shadow:0 6px 24px rgba(0,0,0,0.08); }
  .wheel .slice { position:absolute; inset:0; display:flex; align-items:center; justify-content:center; font-size:13px; font-weight:700; color:#fff; mix-blend-mode:screen; text-align:center; padding:8px; }

  .pointer { width:0; height:0; border-left:12px solid transparent; border-right:12px solid transparent; border-bottom:18px solid var(--pink); margin-left:6px; transform: translateY(-8px); }

  /* drag & drop list for build routine */
  .drag-list { display:flex; gap:8px; flex-wrap:wrap; margin-top:10px; }
  .draggable { padding:10px 12px; background:var(--white); border-radius:10px; border:1px dashed rgba(0,0,0,0.06); cursor:grab; box-shadow:0 6px 18px rgba(0,0,0,0.06); }
  .drop-area { min-height:54px; padding:12px; background:linear-gradient(180deg,#fff,#fff); border-radius:10px; display:flex; gap:8px; align-items:center; flex-wrap:wrap; border:1px dashed rgba(0,0,0,0.06); }

  /* small utility */
  .muted { color:#6a6a6a; font-size:14px; margin-top:8px; }
  .score { font-weight:700; color:var(--pink-dark); margin-left:8px; }

  /* back-to-top */
  .top-btn {
    position: fixed; right:18px; bottom:18px; z-index:9999;
    background: var(--white); color: var(--pink); border: 2px solid var(--pink);
    padding:10px 12px; border-radius:12px; cursor:pointer; box-shadow:0 10px 26px rgba(255,95,162,0.12);
    display:none;
  }
  .top-btn.show { display:block; }

  /* responsive */
  @media (max-width:720px){
    .brand { font-size:28px; }
    .btn { padding:14px 22px; font-size:16px; width:100%; max-width:360px;}
    .wheel { width:140px; height:140px; }
  }
</style>
</head>
<body>

  <!-- HERO -->
  <section class="hero-wrap" aria-labelledby="brandTitle">
    <div class="hero">
      <h1 id="brandTitle" class="brand">üå∏ Elovya Beauty üå∏</h1>
      <p class="sub">Coming Soon ‚Äî premium skincare & cosmetics crafted with care. Explore tips or play beauty games while you wait.</p>

      <div class="actions" role="navigation" aria-label="primary actions">
        <button class="btn" id="btnRoutine" onclick="openPanel('routineCard')"><span class="emoji">üíß</span> Routine Style</button>
        <button class="btn" id="btnWhen" onclick="openPanel('whenCard')"><span class="emoji">‚è∞</span> When to Use</button>
      </div>
    </div>
  </section>

  <main aria-live="polite">

    <!-- Routine Card -->
    <section id="routineCard" class="card" aria-labelledby="routineTitle">
      <h2 id="routineTitle">üåø Skincare Routine Style</h2>
      <p class="lead">Step-by-step: how to use core skincare & cosmetics throughout the day.</p>

      <ul class="list" id="routineList">
        <li class="item"><div class="icon">üß¥</div><div class="content"><b>Cleanser</b><p>Massage 30‚Äì60s on damp skin, then rinse with lukewarm water.</p></div></li>
        <li class="item"><div class="icon">üíß</div><div class="content"><b>Toner</b><p>Pat on skin with cotton pad to rebalance and prep –∫–æ–∂—É (skin).</p></div></li>
        <li class="item"><div class="icon">‚ú®</div><div class="content"><b>Serum</b><p>Use 2‚Äì3 drops, press gently into skin for absorption.</p></div></li>
        <li class="item"><div class="icon">üí¶</div><div class="content"><b>Moisturizer</b><p>Apply while skin is slightly damp; massage upwards.</p></div></li>
        <li class="item"><div class="icon">üåû</div><div class="content"><b>Sunscreen</b><p>Apply SPF 30‚Äì50 15 min before sun exposure; reapply every 2‚Äì3 hours outdoors.</p></div></li>
        <li class="item"><div class="icon">üåô</div><div class="content"><b>Night Cream</b><p>Use as final overnight step for repair and hydration.</p></div></li>
        <li class="item"><div class="icon">üíÑ</div><div class="content"><b>Lip Care</b><p>Exfoliate weekly; apply balm and then lipstick/gloss as desired.</p></div></li>
        <li class="item"><div class="icon">üëÅÔ∏è</div><div class="content"><b>Eye Cream</b><p>Use ring finger to pat gently around the eye area nightly.</p></div></li>
        <li class="item"><div class="icon">üé®</div><div class="content"><b>Foundation & Concealer</b><p>Blend from center outward; set with light powder for longevity.</p></div></li>
        <li class="item"><div class="icon">üí´</div><div class="content"><b>Highlighter & Blush</b><p>Apply to high points and apple of cheeks for a natural glow.</p></div></li>
        <li class="item"><div class="icon">üßñ‚Äç‚ôÄÔ∏è</div><div class="content"><b>Masks & Exfoliation</b><p>Exfoliate 1‚Äì2√ó weekly; masks 1‚Äì2√ó weekly depending on needs.</p></div></li>
      </ul>
    </section>

    <!-- When to Use Card -->
    <section id="whenCard" class="card" aria-labelledby="whenTitle">
      <h2 id="whenTitle">‚è∞ When to Use</h2>
      <p class="lead">Quick guide: which products to use for each time & occasion.</p>

      <ul class="list" id="whenList">
        <li class="item"><div class="icon">üåÖ</div><div class="content"><b>Morning</b><p>Cleanser ‚Üí Toner ‚Üí Vitamin C / Hydrating serum ‚Üí Moisturizer ‚Üí Sunscreen.</p></div></li>
        <li class="item"><div class="icon">‚òÄÔ∏è</div><div class="content"><b>Afternoon</b><p>Reapply sunscreen, use blotting paper or a hydrating mist.</p></div></li>
        <li class="item"><div class="icon">üåá</div><div class="content"><b>Evening</b><p>Double cleanse if wearing makeup ‚Üí Toner ‚Üí Serum ‚Üí Moisturizer.</p></div></li>
        <li class="item"><div class="icon">üåô</div><div class="content"><b>Night</b><p>Retinol/repair serums (night only) ‚Üí Eye cream ‚Üí Night cream.</p></div></li>
        <li class="item"><div class="icon">üíÉ</div><div class="content"><b>Date Night</b><p>Primer ‚Üí Foundation ‚Üí Highlight ‚Üí Statement lip or eyes.</p></div></li>
        <li class="item"><div class="icon">üéâ</div><div class="content"><b>Hangout</b><p>BB cream ‚Üí Lip tint ‚Üí Mascara ‚Üí Compact for quick touch-ups.</p></div></li>
        <li class="item"><div class="icon">üíº</div><div class="content"><b>Workday</b><p>Polished natural look: light base, brow groom, mascara, lip balm.</p></div></li>
        <li class="item"><div class="icon">üßò‚Äç‚ôÄÔ∏è</div><div class="content"><b>Self-care Sunday</b><p>Exfoliate ‚Üí Hydrating mask ‚Üí Serum ‚Üí Facial massage ‚Üí Night cream.</p></div></li>
      </ul>
    </section>

    <!-- Play Games button -->
    <div style="text-align:center; margin-top:8px;">
      <button class="btn" id="playGamesBtn" onclick="openGames()">üéÆ Play Beauty Games</button>
      <span class="muted">Your Beauty Score: <span id="score">0</span></span>
    </div>

    <!-- Games Zone -->
    <section id="gamesZone" class="games-zone" aria-labelledby="gamesTitle">
      <h2 id="gamesTitle" style="font-family:'Playfair Display', serif; color:var(--pink-dark); margin:0 0 8px;">üíã Fun Beauty Zone</h2>
      <p class="muted">Play a quiz, build a routine, or spin the glam wheel ‚Äî each correct/complete action adds to your Beauty Score (resets on reload).</p>

      <div class="game-row">

        <!-- Guess the Product -->
        <div class="game-card" id="gameGuess">
          <h3>üíÑ Guess the Product</h3>
          <div id="guessArea">
            <div style="margin-bottom:8px;"><strong>Clue:</strong> <span id="guessClue" style="font-size:1.1rem"></span></div>
            <div style="display:flex; gap:8px; flex-wrap:wrap;">
              <input id="guessInput" type="text" placeholder="Type your answer (e.g. sunscreen)" style="padding:10px; border-radius:8px; border:1px solid #eee; flex:1; min-width:180px">
              <button class="btn" onclick="submitGuess()">Check</button>
            </div>
            <div id="guessFeedback" style="margin-top:10px; font-weight:600"></div>
            <div class="muted" style="margin-top:8px;">Score: <span id="guessScore">0</span></div>
          </div>
          <div style="margin-top:10px;"><button style="background:transparent;border:none;color:var(--pink);cursor:pointer;font-weight:600" onclick="newClue()">Next Clue</button></div>
        </div>

        <!-- Build Your Routine (drag & drop) -->
        <div class="game-card" id="gameBuild">
          <h3>üß¥ Build Your Routine</h3>
          <p class="muted">Drag the steps into the correct morning order (Cleanser ‚Üí Toner ‚Üí Serum ‚Üí Moisturizer ‚Üí Sunscreen)</p>

          <div style="margin-top:10px;">
            <div class="drop-area" id="dropArea" aria-label="Drop area" tabindex="0"></div>
          </div>

          <div style="margin-top:12px;">
            <div class="drag-list" id="dragItems" aria-hidden="false"></div>
          </div>

          <div style="margin-top:12px;">
            <button class="btn" onclick="checkRoutine()">Check Order</button>
            <button class="btn" style="background:transparent;color:var(--pink);border:2px solid var(--pink);" onclick="resetRoutine()">Reset</button>
            <div id="routineFeedback" style="margin-top:8px;font-weight:600"></div>
          </div>
        </div>

        <!-- Spin the Glam Wheel -->
        <div class="game-card" id="gameSpin">
          <h3>üíã Spin the Glam Wheel</h3>
          <div class="wheel-wrap">
            <div class="wheel" id="wheel" aria-hidden="true">
              <!-- We'll create 8 colored slices via transform -->
              <!-- For accessibility we also display the result text next to it -->
            </div>

            <div style="display:flex;flex-direction:column; gap:10px;">
              <div style="display:flex; gap:8px; align-items:center;">
                <div class="pointer" aria-hidden="true"></div>
                <button class="btn" id="spinBtn" onclick="spinWheel()">Spin</button>
              </div>
              <div id="spinResult" class="muted" style="max-width:260px; text-align:left;"></div>
            </div>
          </div>
        </div>

      </div> <!-- end game-row -->

      <div style="margin-top:14px; display:flex; gap:12px; align-items:center; justify-content:flex-end;">
        <div class="muted">Beauty Score:</div>
        <div class="score" id="totalScore">0</div>
      </div>
    </section>

  </main>

  <!-- Back to top button -->
  <button id="topBtn" class="top-btn" aria-label="Back to top" onclick="scrollToTop()">‚Üë Top</button>

<script>
/* --------------------------
  Sound helper (tiny UI sounds via WebAudio)
   - clickTone() for button clicks
   - sparkleTone() for confetti/correct
--------------------------- */
const audioCtx = (window.AudioContext || window.webkitAudioContext) ? new (window.AudioContext || window.webkitAudioContext)() : null;
function playTone(freq, time=0.08, type='sine', gain=0.02){
  if(!audioCtx) return;
  const o = audioCtx.createOscillator();
  const g = audioCtx.createGain();
  o.type = type; o.frequency.value = freq;
  g.gain.value = gain;
  o.connect(g); g.connect(audioCtx.destination);
  o.start();
  g.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + time);
  setTimeout(()=> o.stop(), time*1000 + 50);
}
function clickTone(){ playTone(720,0.06,'sine',0.02) }
function sparkleTone(){ playTone(1100,0.12,'triangle',0.04); setTimeout(()=>playTone(880,0.08,'sine',0.02),80) }

/* --------------------------
  Panel open/close logic (smooth scroll & single open)
--------------------------- */
function openPanel(panelId){
  clickTone();
  // close other active cards
  document.querySelectorAll('.card.active').forEach(c => c.classList.remove('active'));
  // hide games zone also when opening panels
  document.querySelectorAll('.games-zone.active').forEach(g=> g.classList.remove('active'));

  const card = document.getElementById(panelId);
  if(!card) return;
  const already = card.classList.contains('active');
  if(already){
    // if already open, close and scroll up
    card.classList.remove('active');
    window.scrollTo({top:0, behavior:'smooth'});
    return;
  }
  card.classList.add('active');
  setTimeout(()=> {
    const rect = card.getBoundingClientRect();
    const top = window.scrollY + rect.top - 18;
    window.scrollTo({top, behavior:'smooth'});
  }, 70);
}

/* --------------------------
  Games: overall state
--------------------------- */
let beautyScore = 0;
const scoreEl = document.getElementById('score');
const totalScoreEl = document.getElementById('totalScore');
function updateScore(delta){
  beautyScore += delta;
  if(beautyScore < 0) beautyScore = 0;
  scoreEl.textContent = beautyScore;
  totalScoreEl.textContent = beautyScore;
}

/* --------------------------
  Play Games - reveal games zone
--------------------------- */
function openGames(){
  clickTone();
  // collapse any open card
  document.querySelectorAll('.card.active').forEach(c=> c.classList.remove('active'));
  // show games
  const zone = document.getElementById('gamesZone');
  const opened = zone.classList.contains('active');
  if(opened){
    zone.classList.remove('active');
    window.scrollTo({top:0, behavior:'smooth'});
    return;
  }
  zone.classList.add('active');
  setTimeout(()=> {
    zone.scrollIntoView({behavior:'smooth', block:'start'});
  }, 80);
  // init games when opening
  initGuess();
  initBuild();
  initWheel();
}

/* --------------------------
  Back to top visibility
--------------------------- */
const topBtn = document.getElementById('topBtn');
window.addEventListener('scroll', () => {
  if(window.scrollY > 400) topBtn.classList.add('show'); else topBtn.classList.remove('show');
});
function scrollToTop(){ clickTone(); window.scrollTo({top:0, behavior:'smooth'}); }

/* --------------------------
  Guess the Product Game
--------------------------- */
const clues = [
  {q:'‚òÄÔ∏è + üíß', a:'sunscreen', hint:'Think sun protection'},
  {q:'üß¥ + üí¶', a:'cleanser', hint:'Used to wash face'},
  {q:'‚ú® + üåø', a:'serum', hint:'A little goes a long way'},
  {q:'üíÑ + üëÑ', a:'lipstick', hint:'Color for lips'},
  {q:'üëÅÔ∏è + üí§', a:'eye cream', hint:'Use under eyes at night'},
  {q:'üßñ‚Äç‚ôÄÔ∏è + üïí', a:'mask', hint:'Weekly self-care step'},
];
let currentClue = null;
let guessScore = 0;

function initGuess(){
  currentClue = null;
  guessScore = 0;
  document.getElementById('guessScore').textContent = guessScore;
  newClue();
  document.getElementById('guessFeedback').textContent = '';
  document.getElementById('guessInput').value = '';
}

function newClue(){
  const c = clues[Math.floor(Math.random()*clues.length)];
  currentClue = c;
  document.getElementById('guessClue').textContent = c.q + '  (' + c.hint + ')';
  document.getElementById('guessInput').value = '';
  document.getElementById('guessFeedback').textContent = '';
}

function submitGuess(){
  const inEl = document.getElementById('guessInput');
  const val = (inEl.value || '').trim().toLowerCase();
  if(!val){ document.getElementById('guessFeedback').textContent = 'Please type an answer.'; return; }
  const correct = currentClue.a.toLowerCase();
  if(val === correct || correct.includes(val) || val.includes(correct)){
    sparkleTone();
    document.getElementById('guessFeedback').textContent = 'Correct! +1 point';
    guessScore += 1;
    updateScore(1);
    document.getElementById('guessScore').textContent = guessScore;
    // next clue auto after a short delay
    setTimeout(newClue, 900);
  } else {
    playWrong();
    document.getElementById('guessFeedback').textContent = 'Not quite ‚Äî try again!';
  }
}

function playWrong(){ if(audioCtx) { playTone(220,0.08,'sawtooth',0.03); } }

/* --------------------------
  Build Your Routine (drag & drop)
--------------------------- */
const routineSteps = ['Cleanser','Toner','Serum','Moisturizer','Sunscreen'];
let dragOrder = []; // current dropped order

function initBuild(){
  // populate draggable pool in random order
  const pool = document.getElementById('dragItems');
  pool.innerHTML = '';
  const shuffled = routineSteps.slice().sort(()=>Math.random()-0.5);
  shuffled.forEach((name, idx) => {
    const d = document.createElement('div');
    d.className = 'draggable';
    d.draggable = true;
    d.tabIndex = 0;
    d.textContent = name;
    d.dataset.name = name;
    pool.appendChild(d);

    d.addEventListener('dragstart', (e)=> {
      e.dataTransfer.setData('text/plain', name);
      d.classList.add('dragging');
    });
    d.addEventListener('dragend', ()=> d.classList.remove('dragging'));
  });

  // setup drop area
  const drop = document.getElementById('dropArea');
  drop.innerHTML = ''; dragOrder = [];

  drop.addEventListener('dragover', (e)=> { e.preventDefault(); drop.classList.add('over'); });
  drop.addEventListener('dragleave', ()=> drop.classList.remove('over'));
  drop.addEventListener('drop', (e)=> {
    e.preventDefault();
    drop.classList.remove('over');
    const name = e.dataTransfer.getData('text/plain');
    if(!name) return;
    // prevent duplicates
    if(dragOrder.includes(name)) return;
    dragOrder.push(name);
    renderDrop();
  });

  // also support click-to-add (mobile): click draggable to add
  document.querySelectorAll('.draggable').forEach(d => {
    d.addEventListener('click', (e) => {
      const name = d.dataset.name;
      if(!dragOrder.includes(name)) { dragOrder.push(name); renderDrop(); }
    });
  });

  renderDrop();
}

function renderDrop(){
  const drop = document.getElementById('dropArea');
  drop.innerHTML = '';
  dragOrder.forEach((name, i) => {
    const pill = document.createElement('div');
    pill.style.padding = '8px 10px';
    pill.style.background = 'linear-gradient(180deg,#fff,#fff)';
    pill.style.borderRadius = '8px';
    pill.style.border = '1px solid rgba(0,0,0,0.06)';
    pill.style.display = 'inline-block';
    pill.style.marginRight = '8px';
    pill.textContent = name;
    // allow removal on click
    pill.addEventListener('click', ()=> {
      dragOrder.splice(i,1);
      renderDrop();
    });
    drop.appendChild(pill);
  });
}

function checkRoutine(){
  // check if order matches routineSteps
  if(dragOrder.length !== routineSteps.length){
    document.getElementById('routineFeedback').textContent = 'Please add all steps (drag or tap each item).';
    return;
  }
  const correct = routineSteps.every((v,i)=> v === dragOrder[i]);
  if(correct){
    // confetti via small DOM particles
    sparkleTone();
    showConfetti();
    document.getElementById('routineFeedback').textContent = 'Perfect! +2 points';
    updateScore(2);
  } else {
    playWrong();
    document.getElementById('routineFeedback').textContent = 'Almost ‚Äî check the order and try again.';
  }
}

function resetRoutine(){
  initBuild();
  document.getElementById('routineFeedback').textContent = '';
}

/* confetti simple */
function showConfetti(){
  for(let i=0;i<16;i++){
    const el = document.createElement('div');
    el.style.position='fixed';
    el.style.left = (50 + (Math.random()*160 - 80)) + 'vw';
    el.style.top = (30 + Math.random()*40) + 'vh';
    el.style.width = '8px'; el.style.height='14px';
    el.style.background = ['#ff8fbf','#ffd1e6','#ffc0d9','#ff6f9f'][Math.floor(Math.random()*4)];
    el.style.opacity=0.95;
    el.style.transform = 'rotate('+Math.random()*360+'deg)';
    el.style.borderRadius='2px';
    el.style.zIndex=9999;
    document.body.appendChild(el);
    (function(el){
      setTimeout(()=> el.style.transition='transform 900ms ease, opacity 900ms ease, top 900ms ease', el.style.top = (parseFloat(el.style.top) + 30 + Math.random()*80) + 'vh', el.style.opacity=0, el.style.transform='translateY(60px) rotate(360deg)');
      setTimeout(()=> el.remove(), 1100);
    })(el);
  }
}

/* --------------------------
  Spin the Glam Wheel
--------------------------- */
let wheelDeg = 0;
const wheelTips = [
  "Hydrate ‚Äî water is your skin's best friend üíß",
  "SPF every day, even on cloudy days ‚òÄÔ∏è",
  "Exfoliate gently 1‚Äì2x weekly for glow ‚ú®",
  "Lip care matters ‚Äî exfoliate + balm üíã",
  "Double-cleanse for heavy makeup removal üß¥",
  "Use antioxidants (Vit C) in morning üåû",
  "Eye cream: dab, don't rub üëÅÔ∏è",
  "Face masks: weekly self-care üßñ‚Äç‚ôÄÔ∏è"
];
function initWheel(){
  const wheel = document.getElementById('wheel');
  wheel.innerHTML = '';
  const colors = ['#ff98c4','#ffc9e0','#ffd6ec','#ffb6d6','#ffc7e6','#ffd1ea','#ffb3d1','#ffddf2'];
  const n = wheelTips.length;
  for(let i=0;i<n;i++){
    const slice = document.createElement('div');
    slice.className='slice';
    slice.style.transform = `rotate(${i*(360/n)}deg)`;
    slice.style.background = colors[i % colors.length];
    slice.style.clipPath = `polygon(50% 50%, 100% 0, 100% 100%)`;
    slice.style.opacity = 0.98;
    slice.innerHTML = `<div style="transform: rotate(${(i*(360/n)+360/n/2)}deg); width:100%; text-align:center; font-size:12px; color:#6a0a3e;">${wheelTips[i]}</div>`;
    wheel.appendChild(slice);
  }
}

function spinWheel(){
  clickTone();
  const wheel = document.getElementById('wheel');
  const n = wheelTips.length;
  const extra = 360 * (3 + Math.floor(Math.random()*3)); // 3-5 spins
  const pick = Math.floor(Math.random()*n);
  const anglePer = 360 / n;
  const targetDeg = extra + (pick * anglePer) + anglePer/2;
  wheel.style.transition = 'transform 2.6s cubic-bezier(.14,.88,.2,1.0)';
  wheel.style.transform = `rotate(-${targetDeg}deg)`;
  // disable spin button briefly
  const spinBtn = document.getElementById('spinBtn'); spinBtn.disabled = true;
  setTimeout(()=>{
    // show result
    const res = wheelTips[pick];
    document.getElementById('spinResult').textContent = res + " ‚Äî +1 point";
    sparkleTone();
    updateScore(1);
    spinBtn.disabled = false;
  }, 2600);
}

/* --------------------------
  Init all games when DOM ready
--------------------------- */
document.addEventListener('DOMContentLoaded', ()=>{
  // init score
  beautyScore = 0; updateScore(0);
  // prepare wheel slices ahead for nicer animation
  initWheel();
  // ensure drag list container present even before opening
  const dragCont = document.getElementById('dragItems');
  if(!dragCont.innerHTML.trim()) {
    // will be populated when openGames calls initBuild
    dragCont.innerHTML = '';
  }
  // show/hide back-to-top
  window.addEventListener('scroll', ()=> {
    const topBtn = document.getElementById('topBtn');
    if(window.scrollY > 420) topBtn.classList.add('show'); else topBtn.classList.remove('show');
  });
});

/* small helper tone function used above if audioCtx exists */
function playTone(freq, time=0.06, type='sine', gain=0.02){
  if(!audioCtx) return;
  const o = audioCtx.createOscillator(); const g = audioCtx.createGain();
  o.type = type; o.frequency.value = freq; g.gain.value = gain;
  o.connect(g); g.connect(audioCtx.destination);
  o.start(); g.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + time);
  setTimeout(()=> o.stop(), (time*1000)+40);
}
</script>

</body>
</html>
